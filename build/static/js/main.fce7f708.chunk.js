(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(2),o=n.n(r),i=n(14),a=n.n(i),u=(n(20),n(3)),s=n(4),d=n.n(s),b="/api/persons",j={getPersons:function(){return d.a.get(b).then((function(e){return e.data}))},createPerson:function(e){return d.a.post(b,e).then((function(e){return e.data}))},deletePerson:function(e){return d.a.delete("".concat(b,"/").concat(e))},updatePerson:function(e,t){return d.a.patch("".concat(b,"/").concat(e),t)}},l=function(e){var t=e.message;if(""===t||!t)return null;return Object(c.jsx)("h1",{style:{color:"green",padding:"20px",backgroundColor:"lightgrey",borderStyle:"solid",borderRadius:"5px"},children:t})},h=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(""),a=Object(u.a)(i,2),s=a[0],d=a[1],b=Object(r.useState)(""),h=Object(u.a)(b,2),f=h[0],O=h[1],m=Object(r.useState)(""),p=Object(u.a)(m,2),g=p[0],x=p[1],v=Object(r.useState)(""),w=Object(u.a)(v,2),k=w[0],P=w[1];Object(r.useEffect)((function(){j.getPersons().then((function(e){o(e)}))}),[]);var S=g?n.filter((function(e){return e.name.toLowerCase().startsWith(g.toLowerCase())})):n,C=function(e){var t=n.filter((function(t){return t.id===Number(e.target.id)}))[0].name;window.confirm("Delete ".concat(t,"?"))&&j.deletePerson(e.target.id).then((function(t){o(n.filter((function(t){return t.id!==Number(e.target.id)})))})).catch((function(t){o(n.filter((function(t){return t.id!==Number(e.target.id)})))}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(l,{message:k}),Object(c.jsxs)("div",{children:["filter shown with ",Object(c.jsx)("input",{value:g,onChange:function(e){x(e.target.value)}})]}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j.createPerson({name:s,number:f}).then((function(e){o(n.concat(e)),function(e){P(e),setTimeout((function(){P("")}),5e3)}("".concat(s," : ").concat(f," added to the phonebook."))})),d(""),O("")},children:[Object(c.jsx)("h1",{children:"add a new"}),Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:s,onChange:function(e){d(e.target.value)}})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{value:f,onChange:function(e){O(e.target.value)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]}),Object(c.jsx)("h2",{children:"Numbers"}),S.map((function(e,t){return Object(c.jsxs)("div",{children:[e.name," ",e.number," ",Object(c.jsx)("button",{id:e.id,onClick:C,children:"delete"})]},t)}))]})};a.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(h,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.fce7f708.chunk.js.map