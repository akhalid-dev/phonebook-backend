{"version":3,"sources":["services/person.js","App.js","index.js"],"names":["baseUrl","exports","getPersons","axios","get","then","res","data","createPerson","person","post","p","deletePerson","id","delete","updatePerson","newObj","patch","Notification","message","style","color","padding","backgroundColor","borderStyle","borderRadius","App","useState","persons","setPersons","newName","setNewName","newPhone","setNewPhone","newSearch","setNewSearch","setMessage","useEffect","personServices","namesToShow","filter","name","toLowerCase","startsWith","handleDelete","e","Number","target","window","confirm","catch","err","value","onChange","onSubmit","preventDefault","number","concat","setTimeout","displayMessage","type","map","i","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8MACMA,EAAU,eAyBDC,EAFC,CAACC,WArBE,WACf,OAAOC,IACNC,IAAIJ,GACJK,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAkBQC,aAfR,SAAAC,GACjB,OAAON,IACNO,KAAKV,EAASS,GACdJ,MAAK,SAAAM,GAAC,OAAIA,EAAEJ,SAY0BK,aATtB,SAAAC,GACjB,OAAOV,IACNW,OADM,UACId,EADJ,YACea,KAO+BE,aAJpC,SAACF,EAAIG,GACtB,OAAOb,IACNc,MADM,UACGjB,EADH,YACca,GAAMG,KClBzBE,EAAe,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACrB,GAAgB,KAAZA,IAAmBA,EACrB,OAAO,KAUT,OACE,oBAAIC,MATS,CACbC,MAAO,QACPC,QAAS,OACTC,gBAAiB,YACjBC,YAAa,QACbC,aAAc,OAId,SACGN,KA0FQO,EArFH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRC,EADQ,KACCC,EADD,OAEgBF,mBAAS,IAFzB,mBAERG,EAFQ,KAECC,EAFD,OAGkBJ,mBAAS,IAH3B,mBAGRK,EAHQ,KAGEC,EAHF,OAIoBN,mBAAS,IAJ7B,mBAIRO,EAJQ,KAIGC,EAJH,OAKgBR,mBAAS,IALzB,mBAKRR,EALQ,KAKCiB,EALD,KAOhBC,qBAAU,WACRC,EAAepC,aACdG,MAAK,SAAAuB,GACJC,EAAWD,QAEZ,IACH,IAAMW,EAAcL,EAAYN,EAAQY,QAAO,SAAA/B,GAAM,OAAIA,EAAOgC,KAAKC,cAAcC,WAAWT,EAAUQ,kBAAkBd,EAgCpHgB,EAAe,SAACC,GACpB,IAAMJ,EAAOb,EAAQY,QAAO,SAAA7B,GAAC,OAAIA,EAAEE,KAAOiC,OAAOD,EAAEE,OAAOlC,OAAK,GAAG4B,KAC9DO,OAAOC,QAAP,iBAAyBR,EAAzB,OACAH,EAAe1B,aAAaiC,EAAEE,OAAOlC,IACpCR,MAAK,SAAAC,GACJuB,EAAWD,EAAQY,QAAO,SAAA7B,GAAC,OAAIA,EAAEE,KAAOiC,OAAOD,EAAEE,OAAOlC,WAEzDqC,OAAM,SAAAC,GACLtB,EAAWD,EAAQY,QAAO,SAAA7B,GAAC,OAAIA,EAAEE,KAAOiC,OAAOD,EAAEE,OAAOlC,YAIhE,OACE,gCACE,2CACA,cAAC,EAAD,CAAcM,QAASA,IACvB,qDACoB,uBAAOiC,MAAOlB,EAAWmB,SAxCvB,SAACR,GACzBV,EAAaU,EAAEE,OAAOK,aAyCpB,uBAAME,SA/Be,SAACT,GACxBA,EAAEU,iBACFjB,EAAe9B,aAAa,CAACiC,KAAMX,EAAS0B,OAAQxB,IACnD3B,MAAK,SAAAI,GACJoB,EAAWD,EAAQ6B,OAAOhD,IAXP,SAACU,GACtBiB,EAAWjB,GACXuC,YAAW,WACTtB,EAAW,MACV,KAQDuB,CAAe,GAAD,OAAI7B,EAAJ,cAAiBE,EAAjB,gCAEhBD,EAAW,IACXE,EAAY,KAuBV,UACE,2CACA,yCACQ,uBAAOmB,MAAOtB,EAASuB,SArDb,SAACR,GACvBd,EAAWc,EAAEE,OAAOK,aAsDhB,2CACU,uBAAOA,MAAOpB,EAAUqB,SApDf,SAACR,GACxBZ,EAAYY,EAAEE,OAAOK,aAqDjB,8BACE,wBAAQQ,KAAK,SAAb,sBAGJ,yCACCrB,EAAYsB,KAAI,SAACpD,EAAQqD,GAAT,OACf,gCAAcrD,EAAOgC,KAArB,IAA4BhC,EAAO+C,OAAnC,IAA2C,wBAAQ3C,GAAIJ,EAAOI,GAAIkD,QAASnB,EAAhC,sBAAjCkB,UChGlBE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.fce7f708.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons'\n\nconst getPersons = () => {\n    return axios\n    .get(baseUrl)\n    .then(res => res.data)\n}\n\nconst createPerson = person => {\n    return axios\n    .post(baseUrl, person)\n    .then(p => p.data)\n}\n\nconst deletePerson = id => {\n    return axios\n    .delete(`${baseUrl}/${id}`)\n}\n\nconst updatePerson = (id, newObj) => {\n    return axios\n    .patch(`${baseUrl}/${id}`, newObj)\n}\nconst exports = {getPersons, createPerson, deletePerson, updatePerson,}\n\nexport default exports;","import React, { useState, useEffect } from 'react'\nimport personServices from './services/person'\n\n\nconst Notification = ({message}) => {\n  if (message === '' || !message) {\n    return null;\n  } \n  const styles = {\n    color: 'green',\n    padding: '20px',\n    backgroundColor: 'lightgrey',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n\n  }\n  return (\n    <h1 style={styles}>\n      {message}\n    </h1>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ message, setMessage ] = useState('')\n\n  useEffect(() => {\n    personServices.getPersons()\n    .then(persons => {\n      setPersons(persons)\n    })\n  }, [])\n  const namesToShow = newSearch ? persons.filter(person => person.name.toLowerCase().startsWith(newSearch.toLowerCase())) : persons\n  const handleNameInput = (e) => {\n    setNewName(e.target.value);\n  }\n\n  const handlePhoneInput = (e) => {\n    setNewPhone(e.target.value);\n  }\n\n  const handleSearchInput = (e) => {\n    setNewSearch(e.target.value);\n  }\n\n  const displayMessage = (message) => {\n    setMessage(message)\n    setTimeout(() => {\n      setMessage('')\n    }, 5000)\n  }\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    personServices.createPerson({name: newName, number: newPhone})\n    .then(person => {\n      setPersons(persons.concat(person));  \n      displayMessage(`${newName} : ${newPhone} added to the phonebook.`)\n  })\n    setNewName('')\n    setNewPhone('')\n    \n  }\n\n  const handleDelete = (e) => {\n    const name = persons.filter(p => p.id === Number(e.target.id))[0].name;\n    if (window.confirm(`Delete ${name}?`)) {\n        personServices.deletePerson(e.target.id)\n        .then(res => {\n          setPersons(persons.filter(p => p.id !== Number(e.target.id)))\n        })\n        .catch(err => {\n          setPersons(persons.filter(p => p.id !== Number(e.target.id)))\n        })\n    }\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <div>\n        filter shown with <input value={newSearch} onChange={handleSearchInput} /> \n      </div>\n      <form onSubmit={handleFormSubmit}>\n        <h1>add a new</h1>\n        <div>\n          name: <input value={newName} onChange={handleNameInput} />\n        </div>\n        <div>\n          number: <input value={newPhone} onChange={handlePhoneInput} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      {namesToShow.map((person, i) => \n        <div key={i}>{person.name} {person.number} <button id={person.id} onClick={handleDelete}>delete</button></div>\n      )}\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}