{"version":3,"sources":["services/person.js","App.js","index.js"],"names":["baseUrl","exports","getPersons","axios","get","then","res","data","createPerson","person","post","p","deletePerson","id","delete","updatePerson","newObj","patch","Notification","message","style","color","padding","backgroundColor","borderStyle","borderRadius","App","useState","persons","setPersons","newName","setNewName","newPhone","setNewPhone","newSearch","setNewSearch","setMessage","useEffect","personServices","namesToShow","filter","name","toLowerCase","startsWith","displayMessage","setTimeout","handleDelete","e","target","window","confirm","catch","err","value","onChange","onSubmit","preventDefault","number","concat","type","map","i","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6d0aa223.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons'\n\nconst getPersons = () => {\n    return axios\n    .get(baseUrl)\n    .then(res => res.data)\n}\n\nconst createPerson = person => {\n    return axios\n    .post(baseUrl, person)\n    .then(p => p.data)\n}\n\nconst deletePerson = id => {\n    return axios\n    .delete(`${baseUrl}/${id}`)\n}\n\nconst updatePerson = (id, newObj) => {\n    return axios\n    .patch(`${baseUrl}/${id}`, newObj)\n}\nconst exports = {getPersons, createPerson, deletePerson, updatePerson,}\n\nexport default exports;","import React, { useState, useEffect } from 'react'\nimport personServices from './services/person'\n\n\nconst Notification = ({message}) => {\n  if (message === '' || !message) {\n    return null;\n  } \n  const styles = {\n    color: 'green',\n    padding: '20px',\n    backgroundColor: 'lightgrey',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n\n  }\n  return (\n    <h1 style={styles}>\n      {message}\n    </h1>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ message, setMessage ] = useState('')\n\n  useEffect(() => {\n    personServices.getPersons()\n    .then(persons => {\n      setPersons(persons)\n    })\n  }, [])\n  const namesToShow = newSearch ? persons.filter(person => person.name.toLowerCase().startsWith(newSearch.toLowerCase())) : persons\n  const handleNameInput = (e) => {\n    setNewName(e.target.value);\n  }\n\n  const handlePhoneInput = (e) => {\n    setNewPhone(e.target.value);\n  }\n\n  const handleSearchInput = (e) => {\n    setNewSearch(e.target.value);\n  }\n\n  const displayMessage = (message) => {\n    setMessage(message)\n    setTimeout(() => {\n      setMessage('')\n    }, 5000)\n  }\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    personServices.createPerson({name: newName, number: newPhone})\n    .then(person => {\n      setPersons(persons.concat(person));  \n      displayMessage(`${newName} : ${newPhone} added to the phonebook.`)\n  })\n    setNewName('')\n    setNewPhone('')\n    \n  }\n\n  const handleDelete = (e) => {\n    const name = persons.filter(p => p.id === e.target.id)[0].name;\n    if (window.confirm(`Delete ${name}?`)) {\n        personServices.deletePerson(e.target.id)\n        .then(res => {\n          setPersons(persons.filter(p => p.id !== e.target.id))\n          displayMessage(`${name} deleted from the phonebook.`)\n        })\n        .catch(err => {\n          setPersons(persons.filter(p => p.id !== e.target.id))\n        })\n    }\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <div>\n        filter shown with <input value={newSearch} onChange={handleSearchInput} /> \n      </div>\n      <form onSubmit={handleFormSubmit}>\n        <h1>add a new</h1>\n        <div>\n          name: <input value={newName} onChange={handleNameInput} />\n        </div>\n        <div>\n          number: <input value={newPhone} onChange={handlePhoneInput} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      {namesToShow.map((person, i) => \n        <div key={i}>{person.name} {person.number} <button id={person.id} onClick={handleDelete}>delete</button></div>\n      )}\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}